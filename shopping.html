<html>
<link rel="stylesheet" href="shopping.css" type="text/css">
<script src="http://reputablejournal.com/CS130/listsaver.js" type="text/javascript"> </script>
<head>
<title> Shopping Zone </title>
<img src="https://encrypted-tbn2.gstatic.com/images?q=tbn:ANd9GcT4Ba9UpE0LHnvEPhglQhX7Vj95cF1daNz1UAuts82Q4sBaLEfs"> <img src="https://encrypted-tbn1.gstatic.com/images?q=tbn:ANd9GcS44B2CW0Td1y6J0V8GAV8lTVPDnsyPZ7Xta0_os8M42yk7YPUk"> <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTu4-3gt1CgLbJrwfDX0R7IgfqGYkjA-RroXpXgUaCJYBJXq4FsEA"> <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRURZTn3sAguE9VYPJcgOBfjL18jdul8BwOTITis9okM_fstbeCag">
<style>
body {
background-image:url(http://www.pptbackgrounds.net/uploads/happy-smiling-couple-with-shopping-powerpoint-backgrounds.jpg);
}
#meat {
color: red;
}
#vegetables {
color: green;
}
#snacks {
color: blue;
}
#sauce {
color: orange;
}
.done{
text-decoration: line-through;
}
</style>
</head>
<body>
<h1> The Shopping List ~ </h1>
<table id="grocerylist"></table>
<lable for="item"> Search your item: </lable>
<input id="item" type="text"/>
<lable> Types: </lable>
<select id="category">
<option value="meat"> Meat </option>
<option value="vegetables"> Vegetables </option>
<option value="snacks"> Snacks </option>
<option value="sauce"> Sauce </option>
</select>
<button onclick="addItem()"> Add Item </button>
<script>
clickon= function(){
myCategory=this.classname;
}
addItem= function() {
myUL=document.querySelector('#grocerylist');
myTextbox=document.querySelector('#item');
myCategory = document.querySelector('#category').value;
myli=document.createElement('li')
myli.type="none";
myli.classList.add(myCategory);
myli.className=myCategory;
myItem = document.createTextNode(myTextbox.value);
myTextbox.value = "";
myCheckbox=document.createElement('input');
myCheckbox.type="checkbox";
myCheckbox.onclick = checkme;
myli.appendChild(myCheckbox);
myli.appendChild(myItem);
myUL.appendChild(myli);
localSave();
}
var checkme = function(){
if (this.checked){
this.parentNode.classList.add("done");
}
else{
this.parentNode.classList.remove("done");
}
localSave()
}
localSave = function() {
	var res = []
	var i;
	allEntries = document.querySelectorAll('li')
	for(i=0; i < allEntries.length; i++) {
		if (! allEntries[i].classList.contains("done")) {
		res.push(allEntries[i].innerText);
		}
	}

	localStorage.setItem("shoppingStorage",JSON.stringify(res))
}


restoreTask = function () {
	allEntries = JSON.parse(localStorage.getItem('shoppingStorage'))
	for (i=0; i < allEntries.length; i++){
	
	bl = document.querySelector("#grocerylist");
	li = document.createElement('li');
	cb= document.createElement("input");
	cb.type = 'checkbox';
	cb.onclick = checkme;	
	li.appendChild(cb);
	t= document.createTextNode(allEntries[i]);
	li.appendChild(t);
	bl.appendChild(li);
	}
	
}

</script>
<script>
window.onload=function() {
restoreList();
}
</script>
</body>
</html>
